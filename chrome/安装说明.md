# Chrome Cookie Share 插件安装说明

## 修复内容

这个插件已经从 Manifest V2 升级到 Manifest V3，修复了以下问题：

### 主要更改

1. **Manifest 版本升级**
   - 从 `manifest_version: 2` 升级到 `manifest_version: 3`
   - 将 `browser_action` 改为 `action`
   - 将权限分离为 `permissions` 和 `host_permissions`
   - 将 background scripts 改为 service worker

2. **API 兼容性修复**
   - 更新了所有 Chrome Storage API 的使用方式
   - 修复了 Cookie API 的异步调用
   - 移除了已废弃的回调函数用法
   - 更新了 tabs.reload API 的使用

3. **权限优化**
   - 移除了不必要的 `fullscreen` 权限
   - 将 URL 访问权限移到 `host_permissions`

## 安装步骤

### 开发者模式安装

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 开启右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"
5. 选择这个文件夹（包含 manifest.json 的文件夹）
6. 插件会自动加载并显示在扩展程序列表中

### 验证安装

- 在扩展程序页面应该能看到 "Cookie Share v0.3.9"
- 点击浏览器工具栏中的插件图标，应该能正常打开弹窗
- 在任意网页上应该能看到左下角的浮动按钮（如果在设置中启用）

## 功能测试

1. **基本功能测试**
   - 在弹窗中输入自定义 URL
   - 生成随机 Cookie ID
   - 发送和接收 Cookies

2. **浮动按钮测试**
   - 检查网页左下角是否有浮动按钮
   - 点击浮动按钮应该能打开 Cookie 管理弹窗

3. **设置功能测试**
   - 在弹窗中应该能看到设置选项
   - 可以切换显示/隐藏浮动按钮
   - 可以设置全屏时自动隐藏

## 故障排除

如果遇到问题：

1. **插件无法加载**
   - 确保已开启开发者模式
   - 检查文件夹中是否包含所有必要文件
   - 查看扩展程序页面的错误信息

2. **功能异常**
   - 打开开发者工具查看控制台错误
   - 检查网络连接和自定义 URL 设置
   - 确保目标网站允许设置 Cookies

3. **权限问题**
   - 确保插件已获得必要权限
   - 在插件详情页面检查权限设置

## 更新日志

### v0.3.9
- 升级到 Manifest V3
- 修复所有 API 兼容性问题
- 优化权限配置
- 确保与最新版 Chrome 兼容

现在这个插件应该可以在最新版本的 Chrome 浏览器中正常安装和运行了！
